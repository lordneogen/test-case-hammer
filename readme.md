# Тестовое задание: Реализация функционала авторизации и управления пользователями

Данное тестовое задание представляет собой реализацию функционала авторизации и управления пользователями с использованием различных технологий. Ниже представлен обзор основных функций, описание API эндпоинтов и дополнительные замечания.

## Основной функционал

1. **Авторизация по номеру телефона:**
   - Пользователь вводит номер телефона.
   - Эмулируется отправка 4-значного кода авторизации с задержкой в 1-2 секунды.
   - Второй запрос на ввод кода.

2. **Создание пользователя:**
   - Если пользователь не был ранее авторизован, его данные записываются в базу данных.
   - При первой авторизации генерируется случайный 6-значный инвайт-код.
   - **Дополнительно**: Реализованы два типа пользователей:
     - Администраторы имеют пароли для входа.
     - Обычные пользователи также могут вводить данные, но их пароли скрыты и используются лишь как заглушки. Используется основная таблица пользователей.

3. **Профиль пользователя:**
   - Пользователь может просмотреть свой профиль и ввести инвайт-код.
   - Проверка на существование введенного инвайт-кода.
   - Пользователь может активировать только один инвайт-код, отображается в соответствующем поле.

4. **Список пользователей с инвайт-кодами:**
   - API профиля выводит список пользователей (номеров телефона), которые ввели инвайт-код текущего пользователя.

## Описание API

Для обеспечения вышеперечисленного функционала были реализованы следующие эндпоинты:

- `GET /`: Главная страница, отображает список пользователей.
- `GET /<int:id>/`: Просмотр, обновление и удаление пользователя по id.
- `POST /create/`: Создание нового пользователя (первая часть процесса).
- `POST /create/access/<int:id>`: Создание пользователя с указанием доступа (вторая часть процесса).
- `POST /login/`: Аутентификация пользователя (вход).
- `POST /login/refresh/`: Обновление токена аутентификации.

## Дополнительная информация

- Для тестирования функционала рекомендуется использовать Postman коллекцию, включенную в этот репозиторий.
- Проект был реализован за 1.5 дня и включает все основные и дополнительные функции.
- Для достижения целей проекта потребовалось внести изменения в структуру таблицы пользователей Django.
- Авторизация пользователя происходит в два этапа: ввод номера телефона и ввод 4-значного кода.
- Использованные технологии: Python, Django, Django REST framework, PostgreSQL, Docker.

## Запуск проекта

1. Клонируйте этот репозиторий на свой компьютер.
2. Перейдите в корневую папку проекта.
3. Выполните команду `docker-compose up` для запуска приложения.

После успешного запуска, вы сможете использовать API для тестирования функционала авторизации и управления пользователями.

---

В целом, разработанный функционал обеспечивает авторизацию и управление пользователями в соответствии с требованиями задания. Приложенная Postman коллекция поможет вам более удобно тестировать API.
